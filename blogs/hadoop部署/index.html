<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">
<meta itemprop="name" content="Hadoop完全分布式配置">
<meta itemprop="description" content="前期准备 1.三台Centos7虚拟机 CentOS-7-x86_64-DVD-1511.iso下载 2.下载jdk，Hadoop，Zookeeper 3.第一台 虚拟机根目录的home文件夹中创建Java和software文件夹 4.Java中加入jdk；software中添加Hadoop，Zookeeper压缩包 Hadoop完全分布式配置步骤详解 1. 关闭防火墙 systemctl stop firewalld 2.改变主机名 vim /etc/sysconfig/network 重新生效
source /etc/sysconfig/network 3. 将ip和主机名进行映射 vim /etc/hosts 主机IP地址 主机名 例如：
192.168.202.130 hadoop01 192.168.202.131 hadoop02 192.168.202.132 hadoop03 注意：三个节点都如此不再符截图 注意：三个节点在映射完成之后的内容应该是一模一样的
4. 重启 reboot 5. 三个节点之间需要进行免密互通 ssh-keygen ssh-copy-id root@hadoop01 ssh-copy-id root@hadoop02 ssh-copy-id root@hadoop03 验证：在任意一个节点上能够免密登录其他两个节点
ssh hadoop01 ssh hadoop02 ssh hadoop03 如果免密成功，则输入logout回到当前节点的命令界面
6. 如果已经配置了Hadoop伪分布式,将其备份,即 将第一个节点的伪分布式重新命名 mv hadoop-2.7.1 hadoop-alone 7. 解压安装包 tar -xvf hadoop-2.7.1_64bit.tar.gz 8. 进入hadoop安装目录的etc/hadoop目录 cd /home/software/hadoop-2.7.1/etc/hadoop/ 9. 编辑hadoop-env.">
<meta itemprop="datePublished" content="2021-09-29T11:15:00+08:00" />
<meta itemprop="dateModified" content="2021-09-29T11:15:00+08:00" />
<meta itemprop="wordCount" content="383">



<meta itemprop="keywords" content=",王雪庆," />
<meta property="og:title" content="Hadoop完全分布式配置" />
<meta property="og:description" content="前期准备 1.三台Centos7虚拟机 CentOS-7-x86_64-DVD-1511.iso下载 2.下载jdk，Hadoop，Zookeeper 3.第一台 虚拟机根目录的home文件夹中创建Java和software文件夹 4.Java中加入jdk；software中添加Hadoop，Zookeeper压缩包 Hadoop完全分布式配置步骤详解 1. 关闭防火墙 systemctl stop firewalld 2.改变主机名 vim /etc/sysconfig/network 重新生效
source /etc/sysconfig/network 3. 将ip和主机名进行映射 vim /etc/hosts 主机IP地址 主机名 例如：
192.168.202.130 hadoop01 192.168.202.131 hadoop02 192.168.202.132 hadoop03 注意：三个节点都如此不再符截图 注意：三个节点在映射完成之后的内容应该是一模一样的
4. 重启 reboot 5. 三个节点之间需要进行免密互通 ssh-keygen ssh-copy-id root@hadoop01 ssh-copy-id root@hadoop02 ssh-copy-id root@hadoop03 验证：在任意一个节点上能够免密登录其他两个节点
ssh hadoop01 ssh hadoop02 ssh hadoop03 如果免密成功，则输入logout回到当前节点的命令界面
6. 如果已经配置了Hadoop伪分布式,将其备份,即 将第一个节点的伪分布式重新命名 mv hadoop-2.7.1 hadoop-alone 7. 解压安装包 tar -xvf hadoop-2.7.1_64bit.tar.gz 8. 进入hadoop安装目录的etc/hadoop目录 cd /home/software/hadoop-2.7.1/etc/hadoop/ 9. 编辑hadoop-env." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://HarryQing.github.io/blogs/hadoop%E9%83%A8%E7%BD%B2/" />
<meta property="article:published_time" content="2021-09-29T11:15:00+08:00" />
<meta property="article:modified_time" content="2021-09-29T11:15:00+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hadoop完全分布式配置"/>
<meta name="twitter:description" content="前期准备 1.三台Centos7虚拟机 CentOS-7-x86_64-DVD-1511.iso下载 2.下载jdk，Hadoop，Zookeeper 3.第一台 虚拟机根目录的home文件夹中创建Java和software文件夹 4.Java中加入jdk；software中添加Hadoop，Zookeeper压缩包 Hadoop完全分布式配置步骤详解 1. 关闭防火墙 systemctl stop firewalld 2.改变主机名 vim /etc/sysconfig/network 重新生效
source /etc/sysconfig/network 3. 将ip和主机名进行映射 vim /etc/hosts 主机IP地址 主机名 例如：
192.168.202.130 hadoop01 192.168.202.131 hadoop02 192.168.202.132 hadoop03 注意：三个节点都如此不再符截图 注意：三个节点在映射完成之后的内容应该是一模一样的
4. 重启 reboot 5. 三个节点之间需要进行免密互通 ssh-keygen ssh-copy-id root@hadoop01 ssh-copy-id root@hadoop02 ssh-copy-id root@hadoop03 验证：在任意一个节点上能够免密登录其他两个节点
ssh hadoop01 ssh hadoop02 ssh hadoop03 如果免密成功，则输入logout回到当前节点的命令界面
6. 如果已经配置了Hadoop伪分布式,将其备份,即 将第一个节点的伪分布式重新命名 mv hadoop-2.7.1 hadoop-alone 7. 解压安装包 tar -xvf hadoop-2.7.1_64bit.tar.gz 8. 进入hadoop安装目录的etc/hadoop目录 cd /home/software/hadoop-2.7.1/etc/hadoop/ 9. 编辑hadoop-env."/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>Hadoop完全分布式配置</title>
	<link rel="stylesheet" href="https://HarryQing.github.io/css/style.min.eac77496566fd7d5768fd650ddb0b2b181ca6a2d7c5fdd6fe6b8ba4bf47e566f.css" integrity="sha256-6sd0llZv19V2j9ZQ3bCysYHKai18X91v5ri6S/R+Vm8=" crossorigin="anonymous">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://HarryQing.github.io/">Mr.哈利-未来可期</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="https://HarryQing.github.io/posts/">Java小讲堂</a>
				<a href="https://HarryQing.github.io/linuxs/">Linux小讲堂</a>
				<a href="https://HarryQing.github.io/blogs/">HARRY先生的铺</a>
				<a href="https://HarryQing.github.io/blog/">趣味知识乐分享</a>
				<a href="https://HarryQing.github.io/about-hugo/">关于</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://twitter.com/" target="_blank" rel="noopener me" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://instagram.com/" target="_blank" rel="noopener me" title="Instagram"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg></a><a href="https://github.com/HarryQing" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://HarryQing.github.io/posts/">Java小讲堂</a></li>
			<li><a href="https://HarryQing.github.io/linuxs/">Linux小讲堂</a></li>
			<li><a href="https://HarryQing.github.io/blogs/">HARRY先生的铺</a></li>
			<li><a href="https://HarryQing.github.io/blog/">趣味知识乐分享</a></li>
			<li><a href="https://HarryQing.github.io/about-hugo/">关于</a></li>
		</ul>
	</div>


	<main class="site-main section-inner thin animated fadeIn faster">
		<h1>Hadoop完全分布式配置</h1>
		<div class="content">
			<h1 id="前期准备">前期准备<a href="#前期准备" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h1>
<h2 id="1三台centos7虚拟机">1.三台Centos7虚拟机<a href="#1三台centos7虚拟机" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p><a href="http://ftp.iij.ad.jp/pub/linux/centos-vault/7.2.1511/isos/x86_64/">CentOS-7-x86_64-DVD-1511.iso下载</a>
<img src="https://i.loli.net/2021/09/29/AUltCDsk9q4xEJc.png" alt="image.png"></p>
<h2 id="2下载jdkhadoopzookeeper">2.下载jdk，Hadoop，Zookeeper<a href="#2下载jdkhadoopzookeeper" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p><img src="https://i.loli.net/2021/09/29/EvGKCXdBNPg5tc7.png" alt="image.png"></p>
<h2 id="3第一台-虚拟机根目录的home文件夹中创建java和software文件夹">3.第一台 虚拟机根目录的home文件夹中创建Java和software文件夹<a href="#3第一台-虚拟机根目录的home文件夹中创建java和software文件夹" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p><img src="https://i.loli.net/2021/09/29/YzHQ28gsArfX5d4.png" alt="image.png"></p>
<h2 id="4java中加入jdksoftware中添加hadoopzookeeper压缩包">4.Java中加入jdk；software中添加Hadoop，Zookeeper压缩包<a href="#4java中加入jdksoftware中添加hadoopzookeeper压缩包" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p><img src="https://i.loli.net/2021/09/29/o1zkMJOWAIKQBm7.png" alt="image.png">
<img src="https://i.loli.net/2021/09/29/3gQFaCGr6wISPJN.png" alt="image.png"></p>
<h1 id="hadoop完全分布式配置步骤详解">Hadoop完全分布式配置步骤详解<a href="#hadoop完全分布式配置步骤详解" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h1>
<h2 id="1-关闭防火墙">1. 关闭防火墙<a href="#1-关闭防火墙" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">systemctl stop firewalld
</code></pre></div><h2 id="2改变主机名">2.改变主机名<a href="#2改变主机名" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/sysconfig/network
</code></pre></div><p><img src="https://i.loli.net/2021/09/29/ckAUTsjoVfJiIdL.png" alt="image.png">
<img src="https://i.loli.net/2021/09/29/vhw92on5RfjADux.png" alt="image.png">
<img src="https://i.loli.net/2021/09/29/atGEKPMVC4Yxc5h.png" alt="image.png">
<strong>重新生效</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">source</span> /etc/sysconfig/network
</code></pre></div><h2 id="3-将ip和主机名进行映射">3. 将ip和主机名进行映射<a href="#3-将ip和主机名进行映射" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/hosts
</code></pre></div><p><strong>主机IP地址 主机名 例如：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">192.168.202.130 hadoop01
192.168.202.131 hadoop02
192.168.202.132 hadoop03
</code></pre></div><p><img src="https://i.loli.net/2021/09/29/3fqBk9LpucFRaMy.png" alt="image.png">
<strong>注意：三个节点都如此不再符截图</strong>
<strong>注意：三个节点在映射完成之后的内容应该是一模一样的</strong></p>
<h2 id="4-重启">4. 重启<a href="#4-重启" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"> reboot
</code></pre></div><h2 id="5-三个节点之间需要进行免密互通">5. 三个节点之间需要进行免密互通<a href="#5-三个节点之间需要进行免密互通" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ssh-keygen 	
ssh-copy-id root@hadoop01 	
ssh-copy-id root@hadoop02
ssh-copy-id root@hadoop03
</code></pre></div><p><strong>验证：在任意一个节点上能够免密登录其他两个节点</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">ssh hadoop01 	
ssh hadoop02 	
ssh hadoop03
</code></pre></div><p><strong>如果免密成功，则输入logout回到当前节点的命令界面</strong></p>
<h2 id="6-如果已经配置了hadoop伪分布式将其备份即-将第一个节点的伪分布式重新命名">6. 如果已经配置了Hadoop伪分布式,将其备份,即 将第一个节点的伪分布式重新命名<a href="#6-如果已经配置了hadoop伪分布式将其备份即-将第一个节点的伪分布式重新命名" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">mv hadoop-2.7.1 hadoop-alone

</code></pre></div><h2 id="7-解压安装包">7. 解压安装包<a href="#7-解压安装包" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">tar -xvf hadoop-2.7.1_64bit.tar.gz


</code></pre></div><h2 id="8-进入hadoop安装目录的etchadoop目录">8. 进入hadoop安装目录的etc/hadoop目录<a href="#8-进入hadoop安装目录的etchadoop目录" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">cd</span> /home/software/hadoop-2.7.1/etc/hadoop/

</code></pre></div><h2 id="9-编辑hadoop-envsh">9. 编辑hadoop-env.sh<a href="#9-编辑hadoop-envsh" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim hadoop-env.sh

</code></pre></div><p><strong>修改属性：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">JAVA_HOME</span><span class="o">=</span>/home/presoftware/jdk1.8 	
<span class="nb">export</span> <span class="nv">HADOOP_CONF_DIR</span><span class="o">=</span>/home/software/hadoop-2.7.1/etc/hadoop
</code></pre></div><p><img src="https://i.loli.net/2021/09/29/XEUi5PzfC2OavSY.png" alt="image.png">
<strong>注意：= 后面的是对应的jdk1.8以及hadoop2.7.1的安装目录
重新生效</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">source</span> hadoop-env.sh

</code></pre></div><h2 id="10-编辑core-sitexml">10. 编辑core-site.xml<a href="#10-编辑core-sitexml" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim core-site.xml

</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">&lt;!--指定hdfs的nameservice，为整个集群起一个别名--&gt;
 &lt;property&gt; 
    &lt;name&gt;fs.defaultFS&lt;/name&gt;                
    &lt;value&gt;hdfs://ns&lt;/value&gt;
&lt;/property&gt;
&lt;!--指定Hadoop数据临时存放目录--&gt;
&lt;property&gt;
    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
    &lt;value&gt;/home/software/hadoop-2.7.1/tmp&lt;/value&gt;
&lt;/property&gt; 
&lt;!--指定zookeeper的存放地址--&gt;
&lt;property&gt;
    &lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;
    &lt;value&gt;hadoop01:2181,hadoop02:2181,hadoop03:2181&lt;/value&gt;
&lt;/property&gt; 

</code></pre></div><p><img src="https://i.loli.net/2021/09/29/KbvFrokCzguNqwR.png" alt="image.png"></p>
<h2 id="11-编辑hdfs-sitexml">11. 编辑hdfs-site.xml<a href="#11-编辑hdfs-sitexml" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim hdfs-site.xml

</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">&lt;!--执行hdfs的nameservice为ns，注意要和core-site.xml中的名称保持一致--&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.nameservices&lt;/name&gt;
	    &lt;value&gt;ns&lt;/value&gt;
	&lt;/property&gt;
	&lt;!--ns集群下有两个namenode，分别为nn1, nn2--&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.ha.namenodes.ns&lt;/name&gt;
	    &lt;value&gt;nn1,nn2&lt;/value&gt;
	&lt;/property&gt;
	&lt;!--nn1的RPC通信--&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.namenode.rpc-address.ns.nn1&lt;/name&gt;
	    &lt;value&gt;hadoop01:9000&lt;/value&gt;
	&lt;/property&gt;
	&lt;!--nn1的http通信--&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.namenode.http-address.ns.nn1&lt;/name&gt;
	    &lt;value&gt;hadoop01:50070&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- nn2的RPC通信地址 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.namenode.rpc-address.ns.nn2&lt;/name&gt;
	    &lt;value&gt;hadoop02:9000&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- nn2的http通信地址 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.namenode.http-address.ns.nn2&lt;/name&gt;
	    &lt;value&gt;hadoop02:50070&lt;/value&gt;
	&lt;/property&gt;
	&lt;!--指定namenode的元数据在JournalNode上存放的位置，这样，namenode2可以从journalnode集群里的指定位置上获取信息，达到热备效果--&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;
	    &lt;value&gt;qjournal://hadoop01:8485<span class="p">;</span>hadoop02:8485<span class="p">;</span>hadoop03:8485/ns&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- 指定JournalNode在本地磁盘存放数据的位置 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;
	    &lt;value&gt;/home/software/hadoop-2.7.1/tmp/journal&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- 开启NameNode故障时自动切换 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;
	    &lt;value&gt;true&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- 配置失败自动切换实现方式 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.client.failover.proxy.provider.ns&lt;/name&gt;
	    &lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- 配置隔离机制 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;
	    &lt;value&gt;sshfence&lt;/value&gt;
	&lt;/property&gt;
	&lt;!-- 使用隔离机制时需要ssh免登陆 --&gt;
	&lt;property&gt;
	    &lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;
	    &lt;value&gt;/root/.ssh/id_rsa&lt;/value&gt;
	&lt;/property&gt;
	&lt;!--配置namenode存放元数据的目录，可以不配置，如果不配置则默认放到hadoop.tmp.dir下--&gt;
	&lt;property&gt;    
	    &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;    
	    &lt;value&gt;file:///home/software/hadoop-2.7.1/tmp/hdfs/name&lt;/value&gt;    
	&lt;/property&gt;    
	&lt;!--配置datanode存放元数据的目录，可以不配置，如果不配置则默认放到hadoop.tmp.dir下--&gt;
	&lt;property&gt;    
	    &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;    
	    &lt;value&gt;file:///home/software/hadoop-2.7.1/tmp/hdfs/data&lt;/value&gt;    
	&lt;/property&gt;
	&lt;!--配置复本数量--&gt;    
	&lt;property&gt;    
	    &lt;name&gt;dfs.replication&lt;/name&gt;    
	    &lt;value&gt;3&lt;/value&gt;    
	&lt;/property&gt;   
	&lt;!--设置用户的操作权限，false表示关闭权限验证，任何用户都可以操作--&gt;                                                                    
	&lt;property&gt;    
	    &lt;name&gt;dfs.permissions&lt;/name&gt;    
	    &lt;value&gt;false&lt;/value&gt;    
	&lt;/property&gt;  


</code></pre></div><p><img src="https://i.loli.net/2021/09/29/PrRToAZxa7QEvhK.png" alt="image.png"></p>
<h2 id="12-编辑mapred-sitexml">12. 编辑mapred-site.xml<a href="#12-编辑mapred-sitexml" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">cp mapred-site.xml.template mapred-site.xml 	
vim mapred-site.xml

</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">&lt;property&gt;    
    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;    
    &lt;value&gt;yarn&lt;/value&gt;    
&lt;/property&gt;

</code></pre></div><p><img src="https://i.loli.net/2021/09/29/irqy1lhcBw2pAn3.png" alt="image.png"></p>
<h2 id="13-编辑yarn-sitexml">13. 编辑yarn-site.xml<a href="#13-编辑yarn-sitexml" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"> vim yarn-site.xml

</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">&lt;!--配置yarn的高可用--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.ha.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;!--指定两个resourcemaneger的名称--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.ha.rm-ids&lt;/name&gt;
    &lt;value&gt;rm1,rm2&lt;/value&gt;
&lt;/property&gt;
&lt;!--配置rm1的主机--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname.rm1&lt;/name&gt;
    &lt;value&gt;hadoop01&lt;/value&gt;
&lt;/property&gt;
&lt;!--配置rm2的主机--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname.rm2&lt;/name&gt;
    &lt;value&gt;hadoop03&lt;/value&gt;
&lt;/property&gt;
&lt;!--开启yarn恢复机制--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.recovery.enabled&lt;/name&gt;
    &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
&lt;!--执行rm恢复机制实现类--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.store.class&lt;/name&gt;
    &lt;value&gt;org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore&lt;/value&gt;
&lt;/property&gt;
&lt;!--配置zookeeper的地址--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.zk-address&lt;/name&gt;
    &lt;value&gt;hadoop01:2181,hadoop02:2181,hadoop03:2181&lt;/value&gt;
&lt;/property&gt;
&lt;!--执行yarn集群的别名--&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.cluster-id&lt;/name&gt;
    &lt;value&gt;ns-yarn&lt;/value&gt;
&lt;/property&gt;
&lt;!-- 指定nodemanager启动时加载server的方式为shuffle server --&gt;
&lt;property&gt;    
    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;    
    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;    
&lt;/property&gt;  
&lt;!-- 指定resourcemanager地址 --&gt;
&lt;property&gt;
    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
    &lt;value&gt;hadoop03&lt;/value&gt;
&lt;/property&gt;


</code></pre></div><p><img src="https://i.loli.net/2021/09/29/ZupQrN6f9w3TXP7.png" alt="image.png"></p>
<h2 id="14-编辑slaves">14. 编辑slaves<a href="#14-编辑slaves" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"> vim slaves

</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop01 	
hadoop02 
hadoop03

</code></pre></div><p><img src="https://i.loli.net/2021/09/29/tqVOn6QyLSEubPM.png" alt="image.png"></p>
<h2 id="15-将第一个节点上的hadoop安装目录拷贝给第二个和第三个节点">15. 将第一个节点上的hadoop安装目录拷贝给第二个和第三个节点<a href="#15-将第一个节点上的hadoop安装目录拷贝给第二个和第三个节点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<p><strong>回到software目录下：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">scp -r hadoop-2.7.1 root@hadoop02:/home/software/ 	
scp -r hadoop-2.7.1 root@hadoop03:/home/software/

</code></pre></div><h2 id="16-修改三个节点的环境变量">16. 修改三个节点的环境变量<a href="#16-修改三个节点的环境变量" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">vim /etc/profile
</code></pre></div><p><strong>添加：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">export</span> <span class="nv">JAVA_HOME</span><span class="o">=</span>/home/java/jdk1.8.0_51
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$JAVA_HOME</span>/bin:<span class="nv">$PATH</span>
<span class="nb">export</span> <span class="nv">CLASSPATH</span><span class="o">=</span>.:<span class="nv">$JAVA_HOME</span>/lib/dt.jar:<span class="nv">$JAVA_HOME</span>/lib/tools.jar
<span class="nb">export</span> <span class="nv">HADOOP_HOME</span><span class="o">=</span>/home/software/hadoop-2.7.1
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HADOOP_HOME</span>/bin:<span class="nv">$HADOOP_HOME</span>/sbin


</code></pre></div><p><img src="https://i.loli.net/2021/09/29/PdI8RVxYU23jnJ7.png" alt="image.png">
<strong>重新生效：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">source</span> /etc/profile

</code></pre></div><h2 id="17-三个节点启动zookeeper">17. 三个节点启动Zookeeper<a href="#17-三个节点启动zookeeper" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nb">cd</span> /home/software/zookeeper-3.4.8/bin 	
sh zkServer.sh start
</code></pre></div><p><strong>需要确定状态：</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sh zkServer.sh status
</code></pre></div><h2 id="18-在任意一个节点上格式化zookeeper实际上是在zookeeper注册节点">18. 在任意一个节点上格式化Zookeeper，实际上是在Zookeeper注册节点<a href="#18-在任意一个节点上格式化zookeeper实际上是在zookeeper注册节点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hdfs zkfc -formatZK
</code></pre></div><p><strong>如果成功，则最后几行的日志中会出现</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">Successfully created /hadoop-ha/ns in ZK
</code></pre></div><h1 id="启动hadoop并验证部署成功">启动hadoop并验证部署成功<a href="#启动hadoop并验证部署成功" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h1>
<h2 id="1-在三个节点上启动journalnode">1. 在三个节点上启动JournalNode<a href="#1-在三个节点上启动journalnode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop-daemon.sh start journalnode

</code></pre></div><h2 id="2--在第一个节点上格式化namenode">2.  在第一个节点上格式化NameNode<a href="#2--在第一个节点上格式化namenode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop namenode -format

</code></pre></div><h2 id="3--在第一个节点上启动namenode">3.  在第一个节点上启动NameNode<a href="#3--在第一个节点上启动namenode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop-daemon.sh start namenode
</code></pre></div><h2 id="4--在第二个节点上格式化namenode">4.  在第二个节点上格式化NameNode<a href="#4--在第二个节点上格式化namenode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hdfs namenode -bootstrapStandby
</code></pre></div><h2 id="5--在第二个节点上启动namenode">5.  在第二个节点上启动NameNode<a href="#5--在第二个节点上启动namenode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop-daemon.sh start namenode
</code></pre></div><h2 id="6---在三个节点上启动datanode">6.   在三个节点上启动DataNode<a href="#6---在三个节点上启动datanode" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop-daemon.sh start datanode
</code></pre></div><h2 id="7--在第一个和第二个节点上启动failovercontroller">7.  在第一个和第二个节点上启动FailOverController<a href="#7--在第一个和第二个节点上启动failovercontroller" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">hadoop-daemon.sh start zkfc
</code></pre></div><h2 id="8--在第三个节点上启动yarn">8.  在第三个节点上启动yarn<a href="#8--在第三个节点上启动yarn" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">start-yarn.sh
</code></pre></div><h2 id="9-在第一个节点上启动resourcemanager">9. 在第一个节点上启动ResourceManager<a href="#9-在第一个节点上启动resourcemanager" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">yarn-daemon.sh start resourcemanager

</code></pre></div><h2 id="如果所有的配置都成功了并且所有的进程都启动了那么结果应该如下">如果所有的配置都成功了，并且所有的进程都启动了，那么结果应该如下：<a href="#如果所有的配置都成功了并且所有的进程都启动了那么结果应该如下" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2>
<h3 id="第一个节点">第一个节点：<a href="#第一个节点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p><img src="https://i.loli.net/2021/09/29/rXAF48eMcGYIQqJ.png" alt="image.png"></p>
<h3 id="第一个节点-1">第一个节点：<a href="#第一个节点-1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p><img src="https://i.loli.net/2021/09/29/obhBERCliSODY6J.png" alt="image.png"></p>
<h3 id="第三个节点">第三个节点：<a href="#第三个节点" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>
<p><img src="https://i.loli.net/2021/09/29/9ghYfXkJU2yBZF4.png" alt="image.png"></p>
<h3 id="只要不是第一次启动hadoop只需要执行start-allsh就可以">只要不是第一次启动Hadoop，只需要执行start-all.sh就可以<a href="#只要不是第一次启动hadoop只需要执行start-allsh就可以" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h3>

		</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2021 <a href="https://HarryQing.github.io/">王雪庆</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://HarryQing.github.io/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>



	<script src="https://HarryQing.github.io/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js" integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin="anonymous"></script>
	

</body>

</html>
